<?php

// Establece el ID de tu modelo de GPT-3 y la clave de API
$model_id = "davinci";
$api_key = "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";

// Establece el contenido de la solicitud
$request_data = array(
  "model" => $model_id,
  "prompt" => "¿cual es la capital de Colombia?",
  "max_tokens" => 128
);

// Convierte el contenido de la solicitud en una cadena JSON
$request_data_json = json_encode($request_data);

// Inicializa la sesión cURL
$ch = curl_init("https://api.openai.com/v1/completions");

// Establece las opciones de la solicitud cURL
curl_setopt($ch, CURLOPT_CUSTOMREQUEST, "POST");
curl_setopt($ch, CURLOPT_POSTFIELDS, $request_data_json);
curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);
curl_setopt($ch, CURLOPT_HTTPHEADER, array(
  "Content-Type: application/json",
  "Content-Length: " . strlen($request_data_json),
  "Authorization: Bearer " . $api_key
));

// Ejecuta la solicitud cURL
$response = curl_exec($ch);

// Cierra la sesión cURL
curl_close($ch);

// Procesa la respuesta de la API
$response_data = json_decode($response, true);

// Utiliza los datos de la respuesta para mostrar algo en la página web
echo "El modelo GPT-3 ha devuelto el siguiente texto: " . $response_data['choices'][0]['text'];

?>